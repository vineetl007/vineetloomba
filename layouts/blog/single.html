{{ define "extra_head" }}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": {{ .Title | jsonify }},
  "description": {{ (or .Params.description "Insights and strategies for JEE Mathematics preparation by Vineet Loomba.") | jsonify }},
  "author": {
    "@type": "Person",
    "name": "Vineet Loomba"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Vineet Loomba",
    "logo": {
      "@type": "ImageObject",
      "url": "https://vineetloomba.com/logo.png"
    }
  },
  "datePublished": "{{ with .Date }}{{ .Format "2006-01-02T15:04:05Z07:00" }}{{ else }}{{ now.Format "2006-01-02T15:04:05Z07:00" }}{{ end }}",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ .Permalink }}"
  },
  "image": "{{ with .Params.featured_image }}{{ . }}{{ else }}https://vineetloomba.com/logo.png{{ end }}",
  "url": "{{ .Permalink }}"
}
</script>
{{ end }}

{{ define "main" }}
  <section class="max-w-7xl mx-auto px-4 sm:px-8 py-8 text-gray-300">
    <h1 class="text-3xl mb-6 post-title">{{ .Title }}</h1>
    
    <div class="prose prose-invert max-w-none">    
      {{ .Content }}
    </div>
  <!-- Back Button -->
<div class="mt-10">
  <a href="/blog/" class="inline-block bg-yellow-400 text-black font-concert py-2 px-4 rounded hover:bg-yellow-300">
    ‚Üê Back to all Blog Posts
  </a>
</div>

    <!-- Random Blog Recommendations -->
{{ if eq .Section "blog" }}
  {{ $all := where site.RegularPages "Section" "blog" }}
  {{ $others := where $all "Permalink" "ne" .Permalink }} <!-- exclude current post -->
  {{ $shuffled := shuffle $others }}
  {{ $random := first 3 $shuffled }}

  {{ if gt (len $random) 0 }}
    <div class="mt-12 border-t border-gray-700 pt-6">
      <h2 class="text-2xl font-bold mb-4 text-[#ffb84d]">You May Also Like</h2>
      <ul class="space-y-2">
        {{ range $random }}
          <li>
            <a href="{{ .RelPermalink }}" class="text-lg text-green-300 hover:underline">
              {{ .Title }}
            </a>
          </li>
        {{ end }}
      </ul>
    </div>
  {{ end }}
{{ end }}
   
  </section>
{{ end }}


