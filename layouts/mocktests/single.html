{{ define "main" }}
<div id="mocktest-app" class="max-w-6xl mx-auto p-4 text-white">

  <!-- Header -->
  <div class="flex justify-between items-center mb-4">
    <h1 class="text-2xl font-bold">{{ .Title }}</h1>
    <div id="timer" class="text-lg font-mono"></div>
  </div>

  <!-- Subject Tabs -->
  <div id="sections" class="flex space-x-2 mb-4"></div>

  <!-- Question Container -->
  <div id="question-container" class="bg-gray-900 p-4 rounded-lg mb-4"></div>

  <!-- Palette -->
  <div id="palette" class="grid grid-cols-10 gap-2 mb-4"></div>

  <!-- Submit -->
  <div class="flex justify-center">
    <button id="submit-test" class="px-4 py-2 bg-blue-600 rounded">Submit Test</button>
  </div>
</div>

<!-- Inline all questions Hugo-style -->
<script>
window.allQuestions = [];

function pushQ(p) {
  window.allQuestions.push({
    "File": { "Path": "{{ $p.File.Path }}" },
    "RelPermalink": "{{ $p.RelPermalink }}",
    "HTML": {{ $p.Content | jsonify | safeJS }},
    "Params": {{ $p.Params | jsonify }}
  });
}

{{/* Maths list */}}
{{ range .Params.maths_questions }}
  {{ with site.GetPage . }}
    pushQ({{ . | jsonify | safeJS }});
  {{ end }}
{{ end }}

{{/* Physics list */}}
{{ range .Params.physics_questions }}
  {{ with site.GetPage . }}
    pushQ({{ . | jsonify | safeJS }});
  {{ end }}
{{ end }}

{{/* Chemistry list */}}
{{ range .Params.chemistry_questions }}
  {{ with site.GetPage . }}
    pushQ({{ . | jsonify | safeJS }});
  {{ end }}
{{ end }}
</script>


<script src="/js/mocktest.js"></script>
{{ end }}
