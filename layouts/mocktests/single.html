{{ define "main" }}
  <h1>{{ .Title }}</h1>
  <p><strong>UID:</strong> {{ .Params.uid }}</p>
  <p><strong>Subjects:</strong> {{ delimit .Params.subjects ", " }}</p>

  <h2>Debugging Question Paths</h2>
  {{ $sections := dict
      "Maths" .Params.maths_questions
      "Physics" .Params.physics_questions
      "Chemistry" .Params.chemistry_questions
  }}

  {{ range $subject, $qPaths := $sections }}
    {{ if $qPaths }}
      <h3>{{ $subject }} Questions</h3>
      {{ range $path := $qPaths }}
        <div class="mb-4">
          <p>Looking for: <code>{{ $path }}</code></p>
          {{ $q := site.GetPage (printf "/%s" $path) }}
          {{ if $q }}
            <p style="color:green">✅ Found: {{ $q.Title }}</p>
          {{ else }}
            <p style="color:red">❌ Not found: {{ $path }}</p>
          {{ end }}
        </div>
      {{ end }}
    {{ end }}
  {{ end }}
<h2>All Question Pages (Debug Dump)</h2>
<ul>
  {{ range site.RegularPages }}
    {{ if in .File.Path "questions" }}
      <li>
        <strong>File:</strong> {{ .File.Path }} <br>
        <strong>Title:</strong> {{ .Title }} <br>
        <strong>RelPermalink:</strong> {{ .RelPermalink }} <br>
        <strong>Lookup Key (Guess):</strong> {{ .Path }}
      </li>
    {{ end }}
  {{ end }}
</ul>

{{ end }}
