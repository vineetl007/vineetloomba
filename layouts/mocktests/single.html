{{ define "main" }}
<div class="container mx-auto px-4 py-6">

  <!-- Page Title -->
  <h1 class="text-2xl mb-4">{{ .Title }}</h1>

  <!-- Subject Tabs -->
  <div id="sections" class="flex gap-2 mb-4"></div>

  <!-- Timer -->
  <div id="timer" class="text-lg font-concert mb-4"></div>

  <!-- Mock Test App -->
  <div id="mocktest-app" class="min-h-[400px]"></div>

  <!-- Submit Button -->
  <div class="mb-4">
    <button id="submit-test" class="px-4 py-2 font-concert bg-blue-500 text-white rounded hover:bg-blue-400 transition">
      Submit Test
    </button>
  </div>

  <!-- Back to Mock Tests -->
  <div class="mt-6">
    <a href="/mocktest-bank/"
       class="inline-block bg-blue-500 text-white font-concert py-2 px-4 rounded hover:bg-blue-400 transition">
      â¬… Back to Mock Tests
    </a>
  </div>
</div>

<!-- Load Hugo Questions -->
<script>
  window.allQuestions = [
    {{- $qs := slice -}}
    {{- range .Params.maths_questions }}{{ $qs = $qs | append . }}{{ end -}}
    {{- range .Params.physics_questions }}{{ $qs = $qs | append . }}{{ end -}}
    {{- range .Params.chemistry_questions }}{{ $qs = $qs | append . }}{{ end -}}
    {{- range $i, $path := $qs }}
      {{ $q := site.GetPage $path }}
      {{ if $q }}
      {
        "File": { "Path": "{{ $q.File.Path }}" },
        "RelPermalink": "{{ $q.RelPermalink }}",
        "Params": {{ $q.Params | jsonify }}
      }{{ if not (eq (add $i 1) (len $qs)) }},{{ end }}
      {{ end }}
    {{- end }}
  ];

  // Rank Preset
  window.rankPreset = {{ .Params.rank_preset | jsonify }};
</script>

<!-- Load Mock Test JS -->
<script src="/js/mocktest.js"></script>
{{ end }}
