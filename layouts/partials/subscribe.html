<div class="max-w-lg mx-auto my-12 p-8 bg-gray-900 rounded-2xl shadow-lg">
  <h2 class="text-lg sm:text-xl md:text-2xl font-bold text-center mb-4">
    üì© Subscribe to Crack JEE
  </h2>
  <p class="text-gray-300 text-center mb-6">
    Get free Tips, strategy & updates directly from Vineet Loomba Sir
  </p>

  <form id="subscribe-form" class="space-y-4">
    <input 
      type="email" 
      name="email" 
      placeholder="Your Email *" 
      required 
      class="w-full px-4 py-3 rounded-lg bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#ffb84d]" 
    />
    <input 
      type="text" 
      name="name" 
      placeholder="Your Name (optional)" 
      class="w-full px-4 py-3 rounded-lg bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-[#ffb84d]" 
    />
   <button 
  id="subscribe-btn"
  type="submit" 
  class="w-full bg-[#ffb84d] text-black font-bold !text-xl py-3 px-6 rounded-lg shadow-lg hover:bg-yellow-400 transition flex items-center justify-center gap-2">
  <span id="btn-text">Subscribe</span>
  <svg id="btn-spinner" class="animate-spin h-5 w-5 text-black hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
  </svg>
</button>

  </form>

  <!-- Success / Error messages -->
  <p id="form-message" class="text-center mt-4 text-sm text-gray-300"></p>
</div>

{{/* Prevent Hugo from parsing the script */}}
{{- `<script>
document.getElementById("subscribe-form").addEventListener("submit", async function(e) {
  e.preventDefault();
  const form = e.target;
  const btn = document.getElementById("subscribe-btn");
  const btnText = document.getElementById("btn-text");
  const btnSpinner = document.getElementById("btn-spinner");
  
  // Disable button + show spinner
  btn.disabled = true;
  btnText.innerText = "Submitting...";
  btnSpinner.classList.remove("hidden");

  const formData = {
    name: form.name.value,
    email: form.email.value
  };

  try {
    await fetch("https://script.google.com/macros/s/AKfycbw_hD8BJdQMpMD6LBwQu_w1LWdWbis4bkHpPtYSBUZGBRQ7o4NpTzd4Rs_v1lGECr0a/exec", {
      method: "POST",
      mode: "no-cors",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(formData)
    });

    document.getElementById("form-message").innerText = "‚úÖ Success! You are now one step closer to cracking JEE üí™";
    form.reset();
  } catch (error) {
    document.getElementById("form-message").innerText = "‚ùå Something went wrong. Please try again.";
  }

  // Re-enable button + hide spinner
  btn.disabled = false;
  btnText.innerText = "Subscribe";
  btnSpinner.classList.add("hidden");
});
</script>` | safeHTML }}
