{{ define "main" }}
<section class="max-w-5xl mx-auto px-6 py-8 text-white">

  <h1 class="text-3xl mb-6">Question Bank</h1>

  <div class="space-y-4">
    <!-- Maths collapsible -->
    <details class="bg-gray-900 rounded-lg shadow p-4">
      <summary class="cursor-pointer text-2xl font-bold">Maths</summary>

      {{/* Get all maths questions */}}
      {{ $maths := where .Site.RegularPages "Params.subject" "maths" }}

      {{/* Group by chapter */}}
      {{ range $chapter, $qsByChapter := group $maths "Params.chapter" }}
        <details class="bg-gray-800 rounded-lg p-3 mt-3 ml-4">
          <summary class="cursor-pointer text-xl font-semibold">{{ $chapter }}</summary>

          <div class="mt-2 ml-4 space-y-2">
            {{/* Group by DPP inside chapter */}}
            {{ range $dpp, $qsByDpp := group $qsByChapter "Params.dpp" }}
              <a href="/practice/{{ $chapter | urlize }}/{{ $dpp | urlize }}/"
                 class="block bg-yellow-400 text-black py-2 px-3 rounded hover:bg-yellow-300">
                 DPP {{ $dpp }}
              </a>
            {{ end }}
          </div>
        </details>
      {{ end }}

    </details>
  </div>

</section>
{{ end }}
