{{ define "main" }}
<section class="max-w-7xl mx-auto px-8 py-8 text-white">

  <!-- Question Title -->
  <h1 class="text-3xl mb-6">{{ .Title }}</h1>

  <!-- Difficulty & Tags -->
  {{ with .Params.difficulty }}
  <p class="text-sm text-gray-400 mb-2">Difficulty: {{ . }}</p>
  {{ end }}

  {{ with .Params.tags }}
  <p class="text-sm text-gray-400 mb-6">Tags: {{ delimit . ", " }}</p>
  {{ end }}

  <!-- Question Content -->
  <div class="prose prose-invert mb-6 max-w-full">
    {{ .Content }}
  </div>

  <!-- JSON-LD Schema for Question & Video -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Question",
    "name": "{{ .Title }}",
    "text": "{{ with .Content | plainify }}{{ . | safeJS }}{{ end }}",
    "answerCount": 1,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": "See solution above. Video solution available if embedded."
    },
    "author": {
      "@type": "Person",
      "name": "Vineet Loomba"
    },
    "datePublished": "{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}",
    {{ if .Params.video }}
    "suggestedAnswer": {
      "@type": "VideoObject",
      "name": "Video Solution for {{ .Title }}",
      "description": "Video solution for {{ .Title }}",
      "thumbnailUrl": "https://img.youtube.com/vi/{{ .Params.video }}/hqdefault.jpg",
      "uploadDate": "{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}",
      "contentUrl": "https://www.youtube.com/watch?v={{ .Params.video }}",
      "embedUrl": "https://www.youtube.com/embed/{{ .Params.video }}",
      "publisher": {
        "@type": "Organization",
        "name": "Vineet Loomba",
        "url": "https://vineetloomba.com",
        "logo": {
          "@type": "ImageObject",
          "url": "https://vineetloomba.com/images/logo.png"
        }
      }
    }
    {{ end }}
  }
  </script>

</section>
{{ end }}
